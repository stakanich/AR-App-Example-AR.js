<!doctype HTML>
<html>
<script src = "./libs/build/aframe-master.min.js">
</script>
<script src = "./libs/build/aframe-ar.min.js">
</script>
<script src = "./libs/build/aframe-extras.loaders.min.js"></script>
</script>




<!--<script>
  AFRAME.registerComponent("shipclicked",{
                             init: function(){
                               const animatedMarker = document.querySelector("#shipMarker");
                               const aEntity = document.querySelector("#shipModel");
                               
                               animatedMarker.addEventListener('click', function(ev, target){
                                 const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
                                 if (aEntity) {
                                   let shipPlane = document.querySelector("#shipPlane")
                                   if (shipPlane.getAttribute('visible') == false)
                                   {
                                     shipPlane.object3D.visible = true
                                     setTimeout(function(){}, 1000)
                                   }
                                   else
                                   {
                                     shipPlane.object3D.visible = false
                                     setTimeout(function(){}, 1000)
                                   }
                                 }
                               })
                             }
                           })
                         
</script> -->

<!--<script>
  AFRAME.registerComponent("shipclicked",{
                             init: function(){
                               
                               const aEntity = this.el
                               
                               aEntity.addEventListener('click', function(){
                                 
                                 if (aEntity) {
                                   alert('do something')
                                 }
                               })
                             }
                           })
                         
</script>-->

  <body stryle = 'margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false" renderer = "sortObjects: true;">
        <a-marker type="pattern" preset="custom" url="https://raw.githubusercontent.com/stakanich/AR-App-Example-AR.js/master/data/patterns/pattern-monster.patt">

           <a-entity
             gltf-model="src: url(./data/models/monster/Monster.gltf);"
             rotation="0 0 0"
             scale="0.02 0.02 0.02"
             animation-mixer>
           </a-entity>
        </a-marker>
      
        <!--shipclicked emitevents="true" cursor="color: yellow; fuse: true; rayOrigin: mouse"-->
        <a-marker id="shipMarker" type="pattern" preset="custom" url="https://raw.githubusercontent.com/stakanich/AR-App-Example-AR.js/master/data/patterns/pattern-ship.patt">
          <!--<a-entity id = 'shipPlane' 
                    geometry="primitive: plane; height: 0.5; width: 0.5"
                    position="1 0 -0.5"
                    material="src: url(./data/models/ship/shipText.png); side: double"
                    rotation="-90 0 0"
                    visible="true"> 
          </a-entity> -->
        
          <a-entity rotation="0 0 0" animation="property: rotation; from: 0 0 0; to: 0 0 360; loop: true; dur: 10000">
            <a-entity id="shipModel"
                      gltf-model="src: url(./data/models/ship/ship_light.gltf);"
                      position="0 1.3 0"
                      rotation="0 90 0"
                      scale="0.1 0.1 0.1"
                      >
            </a-entity>
          </a-entity>
        </a-marker>
      <!--<a-entity camera><a-cursor></a-cursor></a-entity>-->
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
